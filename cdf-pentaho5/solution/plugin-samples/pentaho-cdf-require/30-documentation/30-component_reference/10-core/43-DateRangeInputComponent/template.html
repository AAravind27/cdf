<script type="text/javascript" src="../../repo/files/%3Apublic%3Aplugin-samples%3Apentaho-cdf%3A30-documentation%3A30-component_reference%3AMetaLayerSamples.js"></script>

<div class="shadow">

	<div class="contents">

		<h2>DateRangeInputComponent</h2>

		<h3>Description</h3>
		<p>
		Renders a date range input box to collect user input from. 
		</p>

		<h3>Options</h3>

		<dl class="documentation">
			<dt>name</dt>
			<dd>The name of the component</dd>

			<dt>type</dt>
			<dd><code>dateRangeInputComponent</code></dd>

			<dt>listeners</dt>
			<dd><i>Array - </i> Parameters who this component will react to</dd>

			<dt>parameter</dt>
			<dd><i>Array - </i> Variables where the input is stored</dd>

			<dt>singleInput</dt>
			<dd>True will render a single input; False will use 2 input boxes. Default: true</dd>

			<dt>inputSeparator</dt>
			<dd>If singleInput=false, this separator will be used between the fields</dd>

			<dt>htmlObject</dt>
			<dd>Id of the component (usually a div or a span tag) to be replaced by the result</dd>

			<dt>refreshPeriod</dt>
			<dd>Time in seconds for this component to refresh. Default is 0 (disabled)</dd>



			<dt>executeAtStart</dt>
			<dd>True to execute the component at start, false otherwise</dd>

			<dt>tooltip</dt>
			<dd>Tooltip to be displayed when mouse hovers</dd>

			<dt>preExecution</dt>
			<dd><i>Function - </i> Function to be called before the component is executed</dd>

			<dt>postExecution</dt>
			<dd><i>Function - </i> Function to be called after the component is executed</dd>

			<dt>preChange</dt>
			<dd><i>Function(date1, date2) - </i> Function to be called before the component is changed</dd>

			<dt>postChange</dt>
			<dd><i>Function(date1, date2) - </i> Function to be called after the component is changed</dd>


		</dl>

		<h3>Sample</h3>

		<div id="example" class="flora">
			<div id="sample">
				<div style="font-size: 9pt" id="sampleObject"></div>
			</div>
		</div>
    </div>
</div>

<script language="javascript" type="text/javascript">
	var clearVariables = function() {
		window.jQuery = null;
		window.$ = null;
		window.backbone = null;
		window._ = null;
		window.Mustache = null;
	};

	require(['cdf/Dashboard', 'cdf/lib/jquery', 'cdf/components/DateRangeInputComponent'], function(Dashboard, $, DateRangeInputComponent) {

		$('head')
			.append('<link rel="stylesheet" href="/pentaho/api/repos/pentaho-cdf/js/lib/theme/cupertino/jquery-ui-1.8.custom.css" type="text/css" />')
			.append('<link rel="stylesheet" href="/pentaho/api/repos/pentaho-cdf/js/lib/daterangepicker/ui.daterangepicker.css" type="text/css" />');

        clearVariables();

	    var myDashboard = new Dashboard();

	    myDashboard.addParameter("startDate", "2009-01-01");
	    myDashboard.addParameter("endDate", "2009-03-01");

	    var dateRangeInputComponent = new DateRangeInputComponent(myDashboard, {
			name: "myInput",
			type: "dateRangeInputComponent",
			parameter: ["startDate","endDate"],
			singleInput: false,
			inputSeparator: "<br />",
			htmlObject: "sampleObject",
			executeAtStart: true,
			tooltip: "Click me to select a date",
			postChange: function(date1, date2){
				alert("You chose from " + date1 + " to " + date2 );
			}
	    });

	    myDashboard.addComponent(dateRangeInputComponent);
	    myDashboard.init();
	});
</script>
